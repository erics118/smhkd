# keys
key         := single letter or number
keycode     := hex code corresponding to macOS virtual keycode (0x00-0xFF)
literal     := predefined keyword (enter, space, escape, etc)

identifier  := a string of letters, numbers, and underscores, starting with a letter

# mouse
mouse       := 'left' | 'right' | 'middle'

keysym      := <key> | <keycode> | <literal> | <mouse>

# modifiers
base_mod    := 'cmd' | 'lcmd' | 'rcmd' | 
               'alt' | 'lalt' | 'ralt' | 
               'shift' | 'lshift' | 'rshift' | 
               'ctrl' | 'lctrl' | 'rctrl' | 
               'fn'

custom_mod  := <identifier> '=' <modifier> # custom modifiers can recursively define other custom modifiers

held_mod    := '(' <keysym> ')' # allows holding down a key to act as a modifier

modifier    := <base_mod> | <custom_mod> | <held_mod> | <modifier> '+' <modifier>

# flags
passthrough := '@' # allows event to pass through to other applications
repeat      := '&' # enables repeat based on macos settings, cannot be combined with ^
on_release  := '^' # activates on release rather than press

flags       := <passthrough> | <repeat> | <on_release> | 
               <passthrough> <repeat> | <repeat> <passthrough>
               # other combinations not allowed

command     := any valid shell command on a single line

# hotkey
chord       := <keysym> | <modifier> '+' <keysym>

chords      := <chord> (';' <chord>)* ';' <chord> |
               <chord> (';' <chord>)* ';' <chord> <flags>

# chords
hotkey      := <chords> ':' <command>
